{% extends 'base.html' %}

{% block content %}

{% load static %}
{% load crispy_forms_tags %}

<div class="container mt-5 text-white">
    <div class="row justify-content-center">
        <div class="col-md-8 my-3">
            <!-- Title -->
            <h2>Your Event</h2>

            <form method="POST" enctype="multipart/form-data">
                <!-- enctype="multipart/form-data"> is used because it's handling an image. File data would not be sent to the server with out it
                It separates each field and it's data
                allowing for multiple piecs of data to be sent with on request. -->
                {% csrf_token %}
                
                <!-- Form fields for the event -->
                {{ form.title|as_crispy_field }}
                {{ form.description|as_crispy_field }}

                <!-- category and location fields side by side -->
                <div class="row">
                    <div class="col-md-6">
                        {{ form.event_category|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.location|as_crispy_field }}
                    </div>
                </div>

                <!-- Date fields side by side -->
                <div class="row">
                    <div class="col-md-6">
                        {{ form.start_date_time|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.end_date_time|as_crispy_field }}
                    </div>
                </div>

                <!-- Free and Price fields side by side -->
                <div class="row">
                    <div class="col-md-6">
                        {{ form.is_free|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.price|as_crispy_field }}
                    </div>
                </div>

                {{ form.excerpt|as_crispy_field }}

                <!-- Image and external link fields -->
                <div class="row">
                    <div class="col-md-6">
                        {{ form.event_image|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.link_to_event_page|as_crispy_field }}
                    </div>
                </div>

                <!-- Submit button for creating or updating the event -->
                <button type="submit" class="btn btn-primary">
                    Submit Event
                    <!-- {% if addevent %}
                        Update Event
                    {% else %}
                        Submit Event
                    {% endif %} -->
                </button>
            </form>

            <!-- Event approval notice (only for the creator) -->
            <!-- {% if addevent and not addevent.is_approved and addevent.user == request.user %}
                <p class="text-warning mt-3">This event is awaiting approval.</p>
            {% endif %} -->

            <!-- Edit/Delete buttons (only for the event creator) -->
            <!-- {% if event and event.user == request.user %}
                <div class="mt-4">
                    <form method="POST" action="{% url 'delete_event' event.slug %}" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-delete btn-danger">Delete Event</button>
                    </form>
                </div>
            {% endif %} -->

        </div>
    </div>
</div>

{% endblock %}
